/*
  +------------------------------------------------------------------------+
  | PhalconEye CMS                                                         |
  +------------------------------------------------------------------------+
  | Copyright (c) 2013-2014 PhalconEye Team (http://phalconeye.com/)       |
  +------------------------------------------------------------------------+
  | This source file is subject to the New BSD License that is bundled     |
  | with this package in the file LICENSE.txt.                             |
  |                                                                        |
  | If you did not receive a copy of the license and are unable to         |
  | obtain it through the world-wide-web, please send an email             |
  | to license@phalconeye.com so we can send you a copy immediately.       |
  +------------------------------------------------------------------------+
  | Author: Ivan Vorontsov <ivan.vorontsov@phalconeye.com>                 |
  | Author: Piotr Gasiorowski <p.gasiorowski@vipserv.org>                  |
  +------------------------------------------------------------------------+
*/

.navbar {
  position: relative;

  .nav {
    li {
      a {
        background-color: @buttonNavBgColor;
        border-color: @buttonNavBorderColor;
        border-style: @buttonNavBorderStyle;
        border-width: @buttonNavBorderWidth;

        color: @buttonNavColor;
        display: list-item;
        line-height: @buttonNavHeight;
        padding: 0.2 * @buttonNavHeight 0.8 * @buttonNavHeight;
        text-decoration: none;
        text-transform: uppercase;
        height: @buttonNavHeight;
        min-width: 3 * @buttonNavHeight;
        .transition();

        .active, &:hover {
          background-color: @buttonNavBgHoverColor;
          border-color: @buttonNavBorderHoverColor;
          color: @buttonNavHoverColor;
        }
      }
    }

    .nav-icon {
      max-width: 20px;
      max-height: 20px;
      vertical-align: middle;
    }

    .nav-icon-left {
      margin-right: 7px;
    }

    .nav-icon-right {
      margin-left: 7px;
    }

    & > li.dropdown:hover > .dropdown-menu {
      display: block;
      z-index: 10;
    }
  }

  ul {
    list-style: none;
    white-space: nowrap;
    padding: 0px;
    margin: 0;

    li {
      position: relative;
      margin-right: 20px;
    }
  }

  .navbar-toggle {
    display: none;
  }

  .navbar-handle {
    background: @buttonNavHandleBg;
    color: @buttonNavBgColor;
    cursor: pointer;
    position: absolute;
    right: 0;
    top: 0;
    width: 33px;
    padding: 3px;
    height: 14px;
    margin: 8px;
    &:before, &:after {
      position: absolute;
      left: 0;
      right: 0;
      content: ' ';
      border-top: 7px solid;
    }
    &:before {
      top: 11px;
    }
    &:after {
      top: 2px;
    }
  }

  /**
   * Specific media queries
   */
  @media screen and (max-width: (@viewportTablet - 1)) {
    overflow: hidden;
    background-color: @buttonNavBgColor;

    .nav  {
      & > li, a {
        // Widen nav items
        width: 100%;
      }

      // Hide nav icons
      .nav-icon {
        display: none;
      }

      // Nested menu
      .dropdown-menu a {
        padding-left: 40px;
      }
      .dropdown-submenu .dropdown-menu a {
        padding-left: 60px;
      }
    }

    // Hide navigation by default
    .navbar-inner li {
      display: none;
    }

    // Show first nav item and handle
    .navbar-inner > ul > li:first-child {
      display: block;
      a {
        max-width: ~"calc(100% - 100px)";
        &:hover {
          background-color: @buttonNavBgColor;
        }
      }
    }
    .navbar-handle {
      display: block;
    }
    .navbar-toggle:checked + .navbar-inner li {
      display: block;
    }
  }

  // Tablet and desktop
  .nav li.dropdown  {
    @media screen and (min-width: @viewportTablet) {
      & > a {
        padding-right: 23px;

        &.dropdown-toggle:after {
          content: "▼";
          font-size: 18px;
          position: absolute;
          right: 10px;
          top: 3px
        }
      }
      li.dropdown-submenu:hover > .dropdown-menu {
        display: list-item;
        left: 100%;
        top: 0;
      }
    }
  }

  ul li .dropdown-menu {
    // Tablet and desktop
    @media screen and (min-width: @viewportTablet) {
      position: absolute;
      display: none;

      a {
        padding-right: 23px;
        &.dropdown-toggle:after {
          content: "►";
          font-size: 10px;
          position: absolute;
          right: 10px;
          top: 7px
        }
      }
    }
  }
}
